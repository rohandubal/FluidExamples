{"ast":null,"code":"/*!\n * Copyright (c) Microsoft Corporation and contributors. All rights reserved.\n * Licensed under the MIT License.\n */\n\n/**\n * Utility counter which will send event only if the provided value\n * is above a configured threshold\n */\nexport class ThresholdCounter {\n  constructor(threshold, logger, thresholdMultiple = threshold) {\n    this.threshold = threshold;\n    this.logger = logger;\n    this.thresholdMultiple = thresholdMultiple;\n  }\n  /**\n   * Sends the value if it's above the treshold.\n   */\n\n\n  send(eventName, value) {\n    if (value < this.threshold) {\n      return;\n    }\n\n    this.logger.sendPerformanceEvent({\n      eventName,\n      value\n    });\n  }\n  /**\n   * Sends the value if it's above the treshold\n   * and a multiple of the threshold.\n   *\n   * To be used in scenarios where we'd like to record a\n   * threshold violation while reducing telemetry noise.\n   */\n\n\n  sendIfMultiple(eventName, value) {\n    if (value === this.thresholdMultiple) {\n      this.logger.sendPerformanceEvent({\n        eventName,\n        value\n      }); // reduce number of \"multiple\" events.\n\n      this.thresholdMultiple = this.thresholdMultiple * 2;\n    }\n  }\n\n} //# sourceMappingURL=thresholdCounter.js.map","map":null,"metadata":{},"sourceType":"module"}